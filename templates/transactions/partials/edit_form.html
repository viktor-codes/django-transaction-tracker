{% load widget_tweaks %}

<form hx-post="/edit-transaction/{{ transaction.pk }}/" hx-target="#modal-form-container">
  {% csrf_token %}

  <div class="mb-3">
    <label for="edit-type" class="form-label">Type</label>
    {{ form.type }}
  </div>

  <div class="mb-3">
    <label for="edit-amount" class="form-label">Amount</label>
    {{ form.amount|add_class:"form-control"|attr:"step:0.01"|attr:"min:0.01"|attr:"id:edit-amount" }}
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
    <button type="submit" class="btn btn-primary">Save Changes</button>
  </div>
</form>

<!-- Update the modal header with HTMX -->
<div hx-swap-oob="innerHTML:#modal-title">
  <i class="bi bi-pencil-square"></i> Edit Transaction - {{ transaction.transaction_code }}
</div>